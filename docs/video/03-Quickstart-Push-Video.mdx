---
id: docs-video-quickstart
title: Quickstart
hide_title: false
slug: ./quickstart
displayed_sidebar: pushVideoSidebar
sidebar_position: 3
image: "/assets/docs/previews/docs_video--quickstart.png"
---

# Quickstart

Everything you will need to get up and running in 5 mins or less!

<head>
  <title>Quickstart | Push Video | Push Documentation</title>
</head>

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

### Installation

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```js
// Install Libraries
npm install @pushprotocol/restapi@latest ethers@^5.7
```

  </TabItem>
  <TabItem value="react" attributes={{className: "codetab react"}}>

```js
// Install Libraries
npm install @pushprotocol/restapi@latest ethers@^5.7
```

  </TabItem>
  <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>

```js
// Install Libraries
npm install @pushprotocol/restapi@latest ethers@^5.7
```

  </TabItem>
</Tabs>

### Import libraries

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```js
// Import restapi for function calls
import { PushAPI, CONSTANTS } from "@pushprotocol/restapi";

// Ethers or Viem, both are supported
import { ethers } from "ethers";
```

  </TabItem>

  <TabItem value="react" attributes={{className: "codetab react"}}>

```js
// Import restapi for function calls
import { PushAPI, CONSTANTS } from "@pushprotocol/restapi";

// Ethers or Viem, both are supported
import { ethers } from "ethers";
```

  </TabItem>

  <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>

```js
// Import restapi for function calls
import { PushAPI, CONSTANTS } from "@pushprotocol/restapi";

// Ethers or Viem, both are supported
import { ethers } from "ethers";
```

  </TabItem>
</Tabs>

### Defining Variables

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```js
// data will store the video call state, we will only use this to read the video call state
// and update the UI accordingly
let data = CONSTANTS.VIDEO.INITIAL_DATA;

// setData is a function that will update the video call state
const setData = (fn) => {
  data = fn(data);
};
```

  </TabItem>

  <TabItem value="react" attributes={{className: "codetab react"}}>

```js
// state to handle current video call data
const [data, setData] = useState(CONSTANTS.VIDEO.INITIAL_DATA);
```

  </TabItem>

  <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>

```js
// state to handle current video call data
const [data, setData] = useState(CONSTANTS.VIDEO.INITIAL_DATA);
```

  </TabItem>
</Tabs>

### Initialize User

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```js
// Creating a random signer from a wallet, ideally this is the wallet you will connect
const signer = ethers.Wallet.createRandom();

// Initialize wallet user, use 'PROD' instead of 'STAGING' for mainnet apps
const userAlice = await PushAPI.initialize(signer, {
  env: CONSTANTS.ENV.STAGING,
});
```

  </TabItem>

  <TabItem value="react" attributes={{className: "codetab react"}}>

```js
// Creating a random signer from a wallet, ideally this is the wallet you will connect
const signer = ethers.Wallet.createRandom();

// Initialize wallet user, use 'PROD' instead of 'STAGING' for mainnet apps
const userAlice = await PushAPI.initialize(signer, {
  env: CONSTANTS.ENV.STAGING,
});
```

  </TabItem>

  <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>

```js
// Creating a random signer from a wallet, ideally this is the wallet you will connect
const signer = ethers.Wallet.createRandom();

// Initialize wallet user, use 'PROD' instead of 'STAGING' for mainnet apps
const userAlice = await PushAPI.initialize(signer, {
  env: CONSTANTS.ENV.STAGING,
});
```

  </TabItem>
</Tabs>
### Stream / Real time updates / Socket

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```js
// Initialize Stream
const stream = await userAlice.initStream([CONSTANTS.STREAM.VIDEO]);

// Configure stream listen events and what to do
stream.on(CONSTANTS.STREAM.VIDEO, (message) => {
  console.log(message);
});

// Connect Stream
stream.connect();
```

  </TabItem>

  <TabItem value="react" attributes={{className: "codetab react"}}>

```js
// Initialize Stream
const stream = await userAlice.initStream([CONSTANTS.STREAM.VIDEO]);

// Configure stream listen events and what to do
stream.on(CONSTANTS.STREAM.VIDEO, (message) => {
  console.log(message);
});

// Connect Stream
stream.connect();
```

  </TabItem>

  <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>

```js
// Initialize Stream
const stream = await userAlice.initStream([CONSTANTS.STREAM.VIDEO]);

// Configure stream listen events and what to do
stream.on(CONSTANTS.STREAM.VIDEO, (message) => {
  console.log(message);
});

// Connect Stream
stream.connect();
```

  </TabItem>
</Tabs>

### Initialize Video API

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```js
  // Initialising the video API
  const aliceVideoCall = await userAlice.video.initialize(setData, {
    stream: stream,
    config: {
      video: true, // to enable video on start
      audio: true, // to enable audio on start
    },
    media?: MediaStream, // to pass your existing media stream(only for backend use)
  });

```

  </TabItem>

  <TabItem value="react" attributes={{className: "codetab react"}}>

```js
  // Initialising the video API
  const aliceVideoCall = await userAlice.video.initialize(setData, {
    stream: stream,
    config: {
      video: true, // to enable video on start
      audio: true, // to enable audio on start
    },
    media?: MediaStream, // to pass your existing media stream(only for backend use)
  });

```

  </TabItem>

  <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>

```js
  // Initialising the video API
  const aliceVideoCall = await userAlice.video.initialize(setData, {
    stream: stream,
    config: {
      video: true, // to enable video on start
      audio: true, // to enable audio on start
    },
    media?: MediaStream, // to pass your existing media stream(only for backend use)
  });

```

  </TabItem>
</Tabs>

### Request Video Call

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```js
// request a call to a recipient wallet address
await aliceVideoCall.request([recipientWallet]); // see supported wallet standards - https://push.org/docs/video/supported-wallet-standards
```

  </TabItem>

  <TabItem value="react" attributes={{className: "codetab react"}}>

```js
// request a call to a recipient wallet address
await aliceVideoCall.request([recipientWallet]); // see supported wallet standards - https://push.org/docs/video/supported-wallet-standards
```

  </TabItem>

  <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>

```js
// request a call to a recipient wallet address
await aliceVideoCall.request([recipientWallet]); // see supported wallet standards - https://push.org/docs/video/supported-wallet-standards
```

  </TabItem>
</Tabs>

### Incoming Video Call

The stream emits `RequestVideo` event when there is an incoming video call request. The stream data will have the `address` of the incoming caller which is recommended to be stored in a variable, which will be used to accept or deny the call. Stream also emits events for other video call operation, visit [Stream Section](/docs/video/build/stream-video/) for more details

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```jsx
// Listen to the stream for incoming video call request
stream.on(CONSTANTS.STREAM.VIDEO, async (data) => {
  if (data.event === CONSTANTS.STREAM.VIDEO.REQUEST) {
    // RequestVideo Event is fired when there is an incoming video call request
    // you can show an UI modal to accept or reject the call once this event is triggered
    // it is recommended to store the incoming caller address in a state that is received
    // let incomingCallerAddress = data.peerInfo.address;
  }
});
```

  </TabItem>

  <TabItem value="react" attributes={{className: "codetab react"}}>
```jsx
// Listen to the stream for incoming video call request
stream.on(CONSTANTS.STREAM.VIDEO, async (data) => {
  if (data.event === CONSTANTS.STREAM.VIDEO.REQUEST) {
    // RequestVideo Event is fired when there is an incoming video call request
    // you can show an UI modal to accept or reject the call once this event is triggered
    // it is recommended to store the incoming caller address in a state that is received
    // let incomingCallerAddress = data.peerInfo.address;  
  }
});
```
  </TabItem>

  <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>
```jsx
// Listen to the stream for incoming video call request
stream.on(CONSTANTS.STREAM.VIDEO, async (data) => {
  if (data.event === CONSTANTS.STREAM.VIDEO.REQUEST) {
    // RequestVideo Event is fired when there is an incoming video call request
    // you can show an UI modal to accept or reject the call once this event is triggered
    // it is recommended to store the incoming caller address in a state that is received
    // let incomingCallerAddress = data.peerInfo.address;  
  }
});
```

  </TabItem>
</Tabs>

### Accepting an Incoming Request

After receiving a video call request, you can show a sort of incoming call UI. Now it's time to accept the request for a video call on the receiver's end. The `approve()` optionally accepts the `address` of the incoming caller, which we received from the stream listener. If no address is passed to `approve()` method, it approves the first incoming request.

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```jsx
// Accepting the request, you can also pass the address that we received from the stream listener.
// aliceVideoCall.approve(address?);
await aliceVideoCall.approve();
```

  </TabItem>
    <TabItem value="react" attributes={{className: "codetab react"}}>

```jsx
// Accepting the request, you can also pass the address that we received from the stream listener.
// aliceVideoCall.approve(address?);
await aliceVideoCall.approve();
```

  </TabItem>
    <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>

```jsx
// Accepting the request, you can also pass the address that we received from the stream listener.
// aliceVideoCall.approve(address?);
await aliceVideoCall.approve();
```

  </TabItem>
</Tabs>

### Denying an Incoming Request

After receiving a video call request, you can show a sort of incoming call UI. Now to deny the request for a video call on the receiver's end, you can use `deny()` method which optionally accepts the `address` of the incoming caller, which we received from the stream listener. If no address is passed to `deny()` method, it denies the first incoming request.

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```jsx
// deny the request, you can also pass the address that we received from the stream listener.
// aliceVideoCall.deny(address?);
await aliceVideoCall.deny();
```

  </TabItem>
    <TabItem value="react" attributes={{className: "codetab react"}}>

```jsx
// deny the request, you can also pass the address that we received from the stream listener.
// aliceVideoCall.deny(address?);
await aliceVideoCall.deny();
```

  </TabItem>
    <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>

```jsx
// deny the request, you can also pass the address that we received from the stream listener.
// aliceVideoCall.deny(address?);
await aliceVideoCall.deny();
```

  </TabItem>
</Tabs>

### Disconnect Call

To disconnect an ongoing call, we use the `disconnect()` method.

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```jsx
// to disconnect the call
await aliceVideoCall.disconnect();
```

  </TabItem>
  <TabItem value="react" attributes={{className: "codetab react"}} >
```jsx
// to disconnect the call
await aliceVideoCall.disconnect();
```

  </TabItem>
  <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>
```jsx
// to disconnect the ongoing call
await aliceVideoCall.disconnect();
```

  </TabItem>
</Tabs>

### Toggle Local Audio

After a call is connected, you can toggle your local audio by using the `config()` method.

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```jsx
aliceVideoCall.config({ audio: !data.local.audio });
```

  </TabItem>
    <TabItem value="react" attributes={{className: "codetab react"}}>

```jsx
aliceVideoCall.config({ audio: !data.local.audio });
```

  </TabItem>
    <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>

```jsx
aliceVideoCall.config({ audio: !data.local.audio });
```

  </TabItem>
</Tabs>
### Toggle Local Video

After a call is connected, you can toggle your local Video by using the `config()` method.

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```jsx
aliceVideoCall.config({ video: !data.local.video });
```

  </TabItem>
    <TabItem value="react" attributes={{className: "codetab react"}}>

```jsx
aliceVideoCall.config({ video: !data.local.video });
```

  </TabItem>
    <TabItem value="reactnative" attributes={{className: "codetab reactnative"}}>

```jsx
aliceVideoCall.config({ video: !data.local.video });
```

  </TabItem>
</Tabs>
